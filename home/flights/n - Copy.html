<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memo</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 10px;
            overflow: hidden;
            background:rgb(239, 245, 245);
            min-height: 100vh;
            font-family: 'Dancing Script', cursive;
        }

        .container {
            display: flex;
            gap: 10px;
            height: calc((100vh - 40px) / 3);
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .container::-webkit-scrollbar {
            display: none;
        }

        .box {
            flex: 0 0 auto;
            width: calc((100vh - 40px) / 3 * 8 / 11);
            height: 100%;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .box:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .box img,
        .box video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: #000;
        }

        #container2 {
            margin-left: -90px;
        }

        #menu-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.8);
            /* border: 1px solid #000; */
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 1002;
            color: #000;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        #calendar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-100%);
            }

            to {
                transform: translateY(0);
            }
        }

        #calendar-container {
            width: 300px;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        #calendar-container:hover {
            transform: scale(1.02);
        }

        #month-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        #dates-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .date {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 30px;
            cursor: pointer;
            border-radius: 50%;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .date:hover {
            background-color: rgba(255, 105, 180, 0.1);
            transform: scale(1.1);
        }

        .weekday {
            font-weight: bold;
            color: #555;
        }

        /* .special-date {
            /* background-color: rgba(255, 105, 180, 0.3); */
            /* animation: bounce 1s; */
        /* }  */

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-5px);
            }

            60% {
                transform: translateY(-3px);
            }
        }

        .hidden {
            display: none !important;
        }

        button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 20px;
            padding: 3px;
            transition: transform 0.3s ease;
        }

        button:hover {
            transform: scale(1.1);
        }

        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: scaleIn 0.3s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .popup-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .popup-content img,
        .popup-content video {
            max-width: 100%;
            max-height: calc(90vh - 40px);
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

        .close {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 30px;
            height: 30px;
            background-color: white;
            color: black;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .close:hover {
            transform: scale(1.1) rotate(90deg);
        }
    </style>
</head>

<body>
    <div id="container1" class="container"></div>
    <div id="container2" class="container"></div>
    <div id="container3" class="container"></div>
    <button id="menu-icon">â˜°</button>
    <div id="calendar-overlay" class="hidden">
        <div id="calendar-container">
            <div id="month-container">
                <button id="prev-month">&lt;</button>
                <div id="month"></div>
                <button id="next-month">&gt;</button>
            </div>
            <div id="dates-container"></div>
        </div>
    </div>
    <script>
        const contentArray = [
            { type: 'image', src: 'photos/nav.webp' },
            { type: 'image', src: 'photos/f1.webp' },
            { type: 'image', src: 'photos/f2.webp' },
            { type: 'image', src: 'photos/f3.webp' },
            { type: 'image', src: 'photos/f4.webp' },
            { type: 'video', src: 'photos/IMG_0489.MOV' },
            { type: 'video', src: 'photos/IMG_0488.MOV' },
        ];

        function getRandomContent() {
            return contentArray[Math.floor(Math.random() * contentArray.length)];
        }

        function createBox() {
            const box = document.createElement('div');
            box.className = 'box';
            const content = getRandomContent();

            if (content.type === 'image') {
                const img = document.createElement('img');
                img.dataset.src = content.src;
                img.alt = '';
                box.appendChild(img);
            } else if (content.type === 'video') {
                const video = document.createElement('video');
                video.dataset.src = content.src;
                video.loop = true;
                video.muted = true;
                video.playsInline = true;
                box.appendChild(video);
            }

            box.addEventListener('click', () => createPopup(content));
            return box;
        }

        function lazyLoad(entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const element = entry.target;
                    if (element.tagName === 'IMG' || element.tagName === 'VIDEO') {
                        element.src = element.dataset.src;
                        if (element.tagName === 'VIDEO') {
                            element.autoplay = true;
                        }
                        observer.unobserve(element);
                    }
                }
            });
        }

        const observer = new IntersectionObserver(lazyLoad, { rootMargin: '100px' });

        function initializeContainer(containerId) {
            const container = document.getElementById(containerId);
            const containerWidth = container.clientWidth;
            const boxWidth = container.clientHeight * 8 / 11;
            const initialBoxes = Math.ceil(containerWidth / boxWidth) + 2;

            for (let i = 0; i < initialBoxes; i++) {
                const box = createBox();
                container.appendChild(box);
                observer.observe(box.firstChild);
            }

            const lastBox = container.lastElementChild;
            const intersectionObserver = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    const newBox = createBox();
                    container.appendChild(newBox);
                    observer.observe(newBox.firstChild);
                    intersectionObserver.unobserve(entries[0].target);
                    intersectionObserver.observe(newBox);
                }
            }, { root: container, threshold: 0.1 });

            intersectionObserver.observe(lastBox);
        }

        function createPopup(content) {
            const popup = document.createElement('div');
            popup.className = 'popup';

            let contentElement;
            if (content.type === 'image') {
                contentElement = `<img src="${content.src}" alt="">`;
            } else if (content.type === 'video') {
                contentElement = `<video src="${content.src}" controls autoplay></video>`;
            }

            popup.innerHTML = `
            <div class="popup-content">
                <span class="close">&times;</span>
                ${contentElement}
            </div>
            `;
            document.body.appendChild(popup);

            popup.querySelector('.close').addEventListener('click', () => {
                document.body.removeChild(popup);
            });

            popup.addEventListener('click', (e) => {
                if (e.target === popup) {
                    document.body.removeChild(popup);
                }
            });
        }

        let scrollPosition = 0;
        let ticking = false;

        function scrollContainers() {
            document.querySelectorAll('.container').forEach(container => {
                container.scrollLeft = scrollPosition;
            });
            ticking = false;
        }

        window.addEventListener('wheel', (e) => {
            e.preventDefault();
            scrollPosition += e.deltaY;
            if (!ticking) {
                requestAnimationFrame(scrollContainers);
                ticking = true;
            }
        }, { passive: false });

        initializeContainer('container1');
        initializeContainer('container2');
        initializeContainer('container3');

        window.addEventListener('resize', () => {
            location.reload();
        });

        const menuIcon = document.getElementById('menu-icon');
        const calendarOverlay = document.getElementById('calendar-overlay');

        menuIcon.addEventListener('click', () => {
            calendarOverlay.classList.toggle('hidden');
        });

        const months = ["APRIL 2022", "MAY 2022", "JUNE 2022", "JULY 2022", "AUGUST 2022", "SEPTEMBER 2022", "OCTOBER 2022", "NOVEMBER 2022", "DECEMBER 2022", "JANUARY 2023", "FEBRUARY 2023", "MARCH 2023", "APRIL 2023", "MAY 2023", "JUNE 2023", "JULY 2023", "AUGUST 2023", "SEPTEMBER 2023", "OCTOBER 2023", "NOVEMBER 2023", "DECEMBER 2023", "JANUARY 2024", "FEBRUARY 2024", "MARCH 2024", "APRIL 2024", "MAY 2024", "JUNE 2024", "JULY 2024", "AUGUST 2024", "SEPTEMBER 2024", "OCTOBER 2024", "NOVEMBER 2024", "DECEMBER 2024", "JANUARY 2025"];
        let currentMonthIndex = 0;

        const monthDisplay = document.getElementById('month');
        const datesContainer = document.getElementById('dates-container');

        const specialDates = {
            "APRIL 2022": [6],
            "JULY 2022": [27, 29],
            "AUGUST 2022": [10, 18, 22, 27, 29, 31],
            "SEPTEMBER 2022": [2, 10, 14, 17, 24, 25, 26, 28],
            "OCTOBER 2022": [1, 6, 10, 15, 17, 19, 25, 28],
            "JANUARY 2024": [7]
        };

        function updateCalendar() {
            monthDisplay.textContent = months[currentMonthIndex];
            const [monthName, year] = months[currentMonthIndex].split(' ');
            const monthIndex = new Date(Date.parse(monthName + " 1, " + year)).getMonth();
            const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();
            const firstDay = new Date(year, monthIndex, 1).getDay();

            datesContainer.innerHTML = '';

            // Add weekday headers
            const weekdays = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
            weekdays.forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.className = 'date weekday';
                dayEl.textContent = day;
                datesContainer.appendChild(dayEl);
            });

            // Add date elements
            for (let i = 1; i <= 42; i++) {
                const dateEl = document.createElement('div');
                dateEl.className = 'date';

                if (i > firstDay && i <= daysInMonth + firstDay) {
                    const date = i - firstDay;
                    dateEl.textContent = date;

                    if (specialDates[months[currentMonthIndex]]?.includes(date)) {
                        dateEl.textContent = 'ðŸ’—';
                        dateEl.classList.add('special-date');
                        dateEl.addEventListener('click', () => {
                            handleSpecialDateClick(months[currentMonthIndex], date);
                        });
                    }
                }

                datesContainer.appendChild(dateEl);
            }
        }

        function handleSpecialDateClick(month, date) {
            console.log(`Clicked on special date: ${month} ${date}`);
            // Add your navigation logic here
        }

        document.getElementById('prev-month').addEventListener('click', () => {
            if (currentMonthIndex > 0) {
                currentMonthIndex--;
                updateCalendar();
            }
        });

        document.getElementById('next-month').addEventListener('click', () => {
            if (currentMonthIndex < months.length - 1) {
                currentMonthIndex++;
                updateCalendar();
            }
        });

        updateCalendar();
    </script>
</body>

</html>